{% extends 'base.html.twig' %}

{% block title %}Liste des Jeux{% endblock %}

{% block body %}
    {% block navbar %}
        {{ parent() }}
    {% endblock %}

    <div class="container mt-4">
        <header class="text-center mb-4">
            <h1 class="display-4">Gestion des Jeux</h1>
        </header>

        <section class="form-section mb-5">
            <div class="card shadow-sm">
                <div class="card-body">
                   <div class="container mt-4">
                     <h1>Ajouter un Nouveau Jeu</h1>

                     {{ form_start(form) }}
                     {{ form_row(form.nom) }}
                     {{ form_row(form.image) }}
            <button class="btn btn-primary">Enregistrer</button>
        {{ form_end(form) }}
    </div>
                </div>
            </div>
        </section>

        <section class="game-list-section">
            <h2 class="h3 text-center mb-4">Liste des Jeux</h2>

            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Nom</th>
                        <th scope="col">Image</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                {% for game in games %}
                    <tr>
                        <td>{{ game.id }}</td>
                        <td>{{ game.nom }}</td>
                        <td>
                              {% if game.image %}
                                     <img src="{{ asset(game.image) }}" alt="{{ game.nom }}" class="img-thumbnail" style="max-width: 100px;">
                              {% else %}
                                       <span class="text-muted">Pas d'image</span>
                              {% endif %}
                        </td>
                        <td>
                            <a href="{{ path('app_game_delete', {'id': game.id}) }}" class="btn btn-info btn-sm">Delete</a>
                            <a href="{{ path('app_game_edit', {'id': game.id}) }}" class="btn btn-warning btn-sm">Modifier</a>
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="4" class="text-center">Aucun jeu trouv√©</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

           
        </section>
    </div>
{% endblock %}
