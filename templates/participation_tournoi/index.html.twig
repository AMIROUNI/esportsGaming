{# templates/participation_tournoi/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Participations - {{ tournoi.name }}{% endblock %}

{% block body %}

   {% block header %}
		{{ parent() }}
	{% endblock %}
    <h1>Participations pour {{ tournoi.nomTournoi }}</h1>

    {# Displaying any success or error messages #}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
    
    {# Displaying the participation form #}
    <h2>Ajouter une participation</h2>
    {{ form_start(form) }}
        {{ form_row(form.etat) }}
        {{ form_row(form.group) }} {# Displaying the group (partition) field #}
        {{ form_row(form.tournoi) }} {# Displaying the tournament field, this will be hidden #}
        <button type="submit" class="btn btn-primary">Enregistrer la participation</button>
    {{ form_end(form) }}

    <h2>Liste des participations</h2>
    <ul>
        {% for participation in participations %}
            <li>
                {{ participation.group.nomGroup }} - {{ participation.etat }} 
                <a href="{{ path('app_participation_tournoi_modifier', {'id': participation.id}) }}" class="btn btn-warning btn-sm">Modifier</a>
                <a href="{{ path('app_participation_tournoi_supprimer', {'id': participation.id}) }}" class="btn btn-danger btn-sm">Supprimer</a>
            </li>
        {% else %}
            <li>Aucune participation pour ce tournoi.</li>
        {% endfor %}
    </ul>
{% endblock %}
